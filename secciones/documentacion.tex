%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Intro
\section{Introducción}\label{intro:introduccion}

El presente documento busca ser una herramienta de diseño, un mapa de ruta que encamine tanto el desarrollo técnico del software en general como la implementación del código en el motor de juegos \textbf{Godot}. Pretende servir de ayuda o consulta para detalles específicos y servir de referencia para otorgar una visión general del funcionamiento interno del juego. Para facilitar el acceso a la información relevante se agrupan los contenidos en secciones afines, y se añade un completo índice de contenidos junto a referencias cruzadas a las distintas secciones relevantes dentro del mismo texto.

El documento incluye información con respecto al flujo de trabajo (\nameref{flujo:metodologia-kanban}, \nameref{flujo:modelo-de-ramas}), a la propuesta de diseño o arquitectura (\nameref{modelado:modelado-del-software}), al uso de sistemas de control \lsc{GIT} (\nameref{flujo:modelo-de-ramas}), a consideraciones de \nameref{i18n:internacionalizacion} y a muchos otros detalles relevantes para un software de esta magnitud y complejidad.

\subsection{Cómo usar este documento.}\label{intro:como-usar-el-documento}
Lo ideal es una primera lectura para hacerse de una noción general del funcionamiento del software o lo que se espera lograr en cuanto a su diseño. Posteriormente la idea es usarlo a modo de referencia o mapa de ruta antes y durante la implementación del código.

El texto estará disponible en formato \lsc{TEX}, \lsc{PDF} y \lsc{HTML} en el repositorio de documentación del proyecto: \url{https://github.com/polirritmico/Bakumapu-docs}. La versión \lsc{HTML} se encuentra disponible en la siguiente dirección: \url{https://polirritmico.github.io/Bakumapu-docs/}. Si fuera necesario se puede generar una copia en formato Markdown utilizando Pandoc o algo similar.

El funcionamiento del texto se abordará con más detalle en los apartados \nameref{principios:documento-de-diseno} y  \nameref{flujo:documentacion}.



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Principios

\subsection{El documento de diseño técnico: una herramienta de diseño.}\label{principios:documento-tecnico-como-herramienta}
El presente documento ha sido concebido como una potente herramienta de diseño, pues ofrece la oportunidad de reunir la gran cantidad de elementos relevantes para la construcción de este software en un solo lugar y por lo mismo, ordenar y sistematizar el proceso de producción en una manera coherente al proyecto y sus requerimientos.

Dado que Bakumapu se encuentra en estado de planificación o preproducción, el contar con un instrumento que reuna todas las dimensiones relevantes al desarrollo en un solo lugar, hace de su redacción y lectura un ejercicio de diseño de software y de adminsitración de los flujos de trabajo. La continua revisión del texto servirá como una oportunidad para optimización y mejoras.

Los detalles con respecto a su uso, se verán en detalle dentro del apartado \nameref{flujo:documentacion}.

Aplicando simplicidad junto al desarrollo colectivo de la documentación y el software, nos aseguramos que a medida que el código crezca, el equipo conocerá de manera más profunda y con mayor amplitud el sistema completo y la naturaleza de sus interacciones.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Flujo

\subsection{El documento de Diseño técnico.}\label{flujo:documento-de-diseno}
Como ya se ha mencionado, la función de este documento es triple:

\begin{enumerate}
	\item Usarse como referencia ante dudas técnicas o de modelado.
	\item Entregar toda la información relevante acerca del flujo de trabajo y del funcionamiento del software para integrar a nuevos miembros del equipo.
	\item Servir de instrumento de diseño.
\end{enumerate}

\paragraph*{¿Qué se documenta?}
En términos generales, el código debe estar debidamente comentado dentro de los archivos correspondientes (revisar apartado \nameref{principios:documentacion-en-codigo}). Para pequeñas modificaciones o adiciones ---sobre todo en relación a funciones y variables---, será suficiente con ajustar estos comentarios en el código. No obstante, para las modificaciones más importantes que involucren cambiar o definir la interacción entre clases o elementos de un ámbito más grande, se deberán mencionar en este documento a modo de referencia técnica en el apartado \nameref{modelado:modelado-del-software}.

\subsubsection{Modificando el documento.}
Como ya se ha mencionado el texto debe modificarse utilizando \LaTeX en cualquier editor de textos. 

Cada modificación a este documento deberá aumentar la numeración de la subversión en 1 (v0.0.1 a v0.0.2). Los primeros 2 índices (v\textbf{0.0.}1) estarán en línea con la última rama \textbf{main} del repositorio. Cada vez que se suba una versión de la rama, se deberá chequear que el documento contenga los cambios relevantes a esa versión, incorporarlos si hace falta y actualizar la versión y volver la subversión a cero (v0.\textbf{5.36} a v0.\textbf{6.0}). El versionado de las ramas se discutirá más adelante en el apartado \nameref{flujo:versionado-y-nombres}.

Dado que la instalación de \LaTeX\ puede ser engorrosa en ciertos contextos, no es necesario compilar una nueva versión con cada cambio de subversión, pero sí será conveniente para los cambios de versiones menores.

Al finalizar las secciones más grandes del código, se debe actualizar el apartado correspondiente.

Es importante aclarar que el objetivo no es una explicación línea a línea de cómo funciona el código, sino una noción general de ámbitos o lógicas más globales. Con señalar el sentido de estas entidades dentro del sistema y su interacción con el resto es suficiente.

\paragraph{Versionado:}
Para cambiar la versión editar el Makefile.

\subsection{LaTeX}
Explicación de comandos básicos de \LaTeX, instalación, compilación. 

\subsection{Documentación dentro del código.}\label{principios:documentacion-en-codigo}
La búsqueda de simplicidad en el diseño también aplica a la documentación del código. Idealmente éste debe estar “autodocumentado”, es decir que los nombres de las variables, métodos y clases den cuenta de manera transparente e intuitiva su rol dentro de la lógica del algoritmo. En los casos más complejos, es de vital importancia añadir comentarios no solo para facilitar la comprensión de líneas más complejas, sino para ayudar al futuro proceso de refactorización y debbuging. \emph{Los nombres largos no lastran la eficiencia del código}.

En cuanto al formato del código dado que \lsc{GDS}cript está basado en Python, además de las propias sugerencias de Godot se recomienda seguir la \href{https://www.python.org/dev/peps/pep-0008/}{guía de estilo PEP-8}.

En especial las siguientes indicaciones:
\begin{itemize}
	\item Límite horizontal de 79 caracteres. 
	\item Separación de 1 línea en blanco entre funciones y 2 entre clases.
	\item Indentación por 4 espacios
	\item Operadores y variables separados por un espacio:\\\small \texttt{var ejemplo = Vector2(2, 5 + PI.get(2))}.
\end{itemize}

